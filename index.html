<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Chess Engine Test UI</title>
    </head>
    <body>
        <h3>Chess Engine Test UI</h3>
        <p id="status">Click a piece, then click a highlighted square.</p>
        <div>
            <span>Play as:</span>
            <button id="playWhite" type="button">White</button>
            <button id="playRandom" type="button">Random Side</button>
            <button id="playBlack" type="button">Black</button>
            <button id="flipBoard" type="button">Flip Board</button>
            <span id="viewInfo"></span>
        </div>
        <details>
            <summary>Settings</summary>
            <div>
                <label for="defaultPromotionPiece">Default promotion piece:</label>
                <select id="defaultPromotionPiece">
                    <option value="4" selected>Queen</option>
                    <option value="3">Rook</option>
                    <option value="2">Bishop</option>
                    <option value="1">Knight</option>
                </select>
            </div>
            <div>
                <label>
                    <input id="useDefaultPromotion" type="checkbox" checked>
                    Use default promotion piece
                </label>
            </div>
            <div>
                <label for="promotionBypassKey">Manual promotion key:</label>
                <input id="promotionBypassKey" type="text" value="Control">
            </div>
        </details>
        <button id="resetGame" type="button">Reset Game</button>
        <div style="display:flex; align-items:flex-start; gap:12px;">
            <canvas id="board" width="480" height="480"></canvas>
            <div style="width:220px;">
                <div><strong>Moves</strong></div>
                <div style="display:flex; gap:8px; font-weight:bold;">
                    <div style="width:100px;">White</div>
                    <div style="width:100px;">Black</div>
                </div>
                <div id="plyList" style="max-height:460px; overflow:auto; border:1px solid #ccc; padding:4px;"></div>
            </div>
        </div>
        <div id="promotionChooser" hidden>
            <span>Promote to:</span>
            <button type="button" data-piece-type="4"></button>
            <button type="button" data-piece-type="3"></button>
            <button type="button" data-piece-type="2"></button>
            <button type="button" data-piece-type="1"></button>
        </div>
        <details open>
            <summary>Position / Notation</summary>
            <div>
                <label for="fenText">FEN:</label>
                <input id="fenText" type="text" size="80">
                <button id="copyFen" type="button">Copy FEN</button>
                <button id="loadFen" type="button">Load FEN</button>
            </div>
            <div>
                <label for="pgnText">PGN:</label><br>
                <textarea id="pgnText" rows="6" cols="80"></textarea>
            </div>
            <div>
                <button id="copyPgn" type="button">Copy PGN</button>
                <button id="loadPgn" type="button">Load PGN</button>
            </div>
            <div>
                <button id="goStart" type="button">|&lt;</button>
                <button id="goBack" type="button">&lt;</button>
                <button id="goForward" type="button">&gt;</button>
                <button id="goEnd" type="button">&gt;|</button>
                <span id="moveInfo"></span>
            </div>
        </details>
        <script defer src="code.js"></script>
        <script defer src="ui.js"></script>
    </body>
</html>